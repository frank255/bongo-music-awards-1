import{i as n,bd as y,j as x,o as m,c as u,w as t,A as p,n as l,a,h as k,m as r,aN as v,g as V,x as q,Q as C}from"./index.a424ddf5.js";import{Q as z}from"./QInnerLoading.287fb873.js";import{Q as f}from"./QBadge.956a8575.js";import{Q as _}from"./QTd.71954309.js";import{Q as N}from"./QSelect.c92fb13a.js";import{Q as E}from"./QMenu.ff230a9d.js";import{Q as B}from"./QTable.a5084878.js";import{Q as S}from"./QPage.0d2ddfd1.js";import{C as $}from"./ClosePopup.3dffa9fb.js";import"./QChip.f8fdbb54.js";import"./QItem.2d01f41c.js";import"./QItemLabel.ab067e81.js";import"./rtl.b51694b1.js";import"./position-engine.20b8d97e.js";import"./selection.35b3a3c4.js";import"./QList.5a727cb6.js";import"./use-fullscreen.0d776e93.js";const A={class:"row items-center q-mt-xl"},D=l("p",{class:"font-body-small q-pl-md col"},[l("span",{class:"text-weight-bolder text-capitalize text-h6"},"events and awards")],-1),I={class:"flex justify-end width col"},T={class:"row no-wrap q-pa-md"},j={class:"column"},se={__name:"EventsandAwards",setup(M){const i=n(""),g=y();n("");const d=n([]),b=n([{name:"event_name",label:"Event Name",align:"left",field:e=>e.event_title,sortable:!0},{name:"event_number",label:"Event Number",align:"left",field:e=>e.event_number,sortable:!0},{name:"date",label:"Date",align:"left",field:e=>e.event_date,sortable:!0},{name:"status",label:"Status",field:e=>e.event_status,align:"left"},{name:"action",label:"action",align:"left"}]),w=async()=>{try{const e=await p.get("/events");console.log(e.data.data),d.value=e.data.data}catch(e){console.log(e)}},Q=async e=>{try{const o=await p.post(`/activateEvent/${e}`);d.value=o.data.data}catch{}},h=e=>g.push(`/admin/event/${e}`);return x(()=>{w()}),(e,o)=>(m(),u(S,{padding:""},{default:t(()=>[l("div",A,[D,l("p",I,[a(r,{class:"text-capitalize",to:"/admin/eventsandawards/addevent"},{default:t(()=>[k(" add event ")]),_:1})])]),a(B,{bordered:"",rows:d.value,columns:b.value,"row-key":"name",filter:i.value,class:"q-mt-md",loading:e.loading},{loading:t(()=>[a(z,{showing:"",color:"primary"})]),"body-cell-status":t(s=>[a(_,null,{default:t(()=>[s.row.event_status==="closed"?(m(),u(f,{key:0,dense:"",color:"red",size:"10px",label:"closed",class:"q-ma-xs"})):v("",!0),s.row.event_status==="active"?(m(),u(f,{key:1,dense:"",color:"green",size:"10px",label:"Active",class:"q-ma-xs"})):v("",!0)]),_:2},1024)]),"body-cell-action":t(s=>[a(_,{props:s},{default:t(()=>[a(r,{class:"",icon:"mdi-eye",flat:"",dense:"",color:"primary",size:"10px",onClick:c=>h(s.row.event_id)},null,8,["onClick"]),a(r,{class:"",icon:"mdi-check-decagram",flat:"",dense:"",color:"primary",size:"10px"},{default:t(()=>[a(E,null,{default:t(()=>[l("div",T,[l("div",j,[a(N,{class:"q-ma-xs",dense:"",modelValue:e.customer_status,"onUpdate:modelValue":o[0]||(o[0]=c=>e.customer_status=c),options:["active","closed"]},null,8,["modelValue"]),V(a(r,{class:"q-ma-xs",color:"primary",label:"Save",push:"",size:"sm",onClick:c=>Q(s.row.event_id)},null,8,["onClick"]),[[$]])])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),"top-right":t(()=>[a(q,{outlined:"",dense:"",debounce:"300",modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=s=>i.value=s),placeholder:"Search"},{append:t(()=>[a(C,{name:"mdi-magnify"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])]),_:1}))}};export{se as default};
