import{i as r,u as F,j as I,o as d,c as v,w as o,A as q,n as u,a,h as p,t as f,m as c,s as w,aM as g,v as B,x as V,y as D,g as h,z as R}from"./index.6752f776.js";import{Q as S}from"./QSelect.7fb60f2c.js";import{Q as A}from"./QChip.e5a90264.js";import{Q as M}from"./QBanner.fe08f26a.js";import{Q as Y}from"./QTable.842d1c09.js";import{Q as j}from"./QPage.e8fa4ae4.js";import{C as U}from"./ClosePopup.3b7057e4.js";import"./QItem.355e08c5.js";import"./QItemLabel.19b8e7ad.js";import"./QMenu.33b2b46c.js";import"./position-engine.6f0ccd7d.js";import"./selection.5b336d0e.js";import"./rtl.b51694b1.js";import"./format.3e32b8d9.js";import"./QList.9c570d05.js";import"./use-fullscreen.1c9279f1.js";const G={class:"row scroll-on-mobile justify-around q-mt-xl"},O={class:"q-pa-"},T={class:"q-mt-xl"},H=u("p",{class:"text-weight-bolder text-capitalize q-pl-md"},"Nominees",-1),J=u("div",{class:"text-h6"},"Fill the form bellow",-1),pe={__name:"EventPage",setup(K){const N=r([{name:"artist_name",label:"Artist name",align:"left",field:t=>t.artist_name,sortable:!0},{name:"genre",label:"genre",align:"left",field:t=>t.genre,sortable:!0},{name:"category",label:"category",align:"left",field:t=>t.category,sortable:!0},{name:"work_name",label:"Artwork Name",align:"left",field:t=>t.work_name,sortable:!0},{name:"link",label:"Link",align:"left",field:t=>t.link,sortable:!0}]),z=[{category:"Best Artist of the Year",artist_name:"Ally kiba",genre:"Song of the year",work_name:"Utu",link:"http://blablablab.com"},{category:"Best Artist of the Year",artist_name:"Harmonize",genre:"Song of the year",work_name:"I'm single",link:"http://blablablab.com"},{category:"Best Artist of the Year",artist_name:"Marioo",genre:"Song of the year",work_name:"Raha",link:"http://blablablab.com"}],m=r("");r("");const b=r(""),y=r(""),_=r({}),k=r(!1),x=r(!1),s=r(""),n=r(""),i=r(""),C=F(),E=async()=>{const t=m.value==="active"?"closed":"active";await $(t)},$=async t=>{try{const e=await q.post(`/activateEvent/${C.params.event_id}`,{status:t});console.log(e),m.value=t}catch(e){console.error("Error sending API:",e)}},P=async()=>{try{const t=await q.get(`/events/${C.params.event_id}`);m.value=t.data.data.event_status}catch(t){console.log(t)}},Q=(t,e)=>{x.value=!0,e==="l"?s.value=t:e==="b"?n.value=t:e==="d"&&(i.value=t),_.value={events_data:s.value,genre_data:n.value,category_data:i.value}},L=()=>{console.log(_.value)};return I(()=>{P()}),(t,e)=>(d(),v(j,{padding:""},{default:o(()=>[u("div",G,[a(c,{onClick:E,class:"text-capitalize",flat:"",color:m.value==="active"?"negative":"primary"},{default:o(()=>[p(f(m.value==="active"?"Close Event":"Activate Event"),1)]),_:1},8,["color"]),a(w,{class:"col-xs-12 col-sm-6 col-md-3",flat:"",bordered:""},{default:o(()=>[a(S,{"bg-color":"white",label:"Genres",options:["Bongo Fleva","Singeli"],borderless:"",modelValue:b.value,"onUpdate:modelValue":[e[0]||(e[0]=l=>b.value=l),e[1]||(e[1]=l=>Q(b.value,"b"))]},null,8,["modelValue"])]),_:1}),a(w,{class:"col-xs-12 col-sm-6 col-md-3",flat:"",bordered:""},{default:o(()=>[a(S,{"bg-color":"white",standout:"",label:"Category",options:["Best song of the year","Best artist of the year"],borderless:"",modelValue:y.value,"onUpdate:modelValue":[e[2]||(e[2]=l=>y.value=l),e[3]||(e[3]=l=>Q(y.value,"d"))]},null,8,["modelValue"])]),_:1})]),u("div",O,[x.value?(d(),v(M,{key:0,"inline-actions":"",class:"q-ml-xs q-mt-md bordered"},{action:o(()=>[a(c,{class:"text-capitalize",color:"primary",label:"Apply Filter",onClick:e[7]||(e[7]=l=>L())})]),default:o(()=>[u("div",null,[s.value!=""?(d(),v(A,{key:0,removable:"",modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value=l),color:"primary","text-color":"white"},{default:o(()=>[p(f(s.value),1)]),_:1},8,["modelValue"])):g("",!0),n.value!=""?(d(),v(A,{key:1,removable:"",modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value=l),color:"primary","text-color":"white"},{default:o(()=>[p(f(n.value),1)]),_:1},8,["modelValue"])):g("",!0),i.value!=""?(d(),v(A,{key:2,removable:"",modelValue:i.value,"onUpdate:modelValue":e[6]||(e[6]=l=>i.value=l),color:"primary","text-color":"white"},{default:o(()=>[p(f(i.value),1)]),_:1},8,["modelValue"])):g("",!0)])]),_:1})):g("",!0)]),u("div",T,[a(Y,{bordered:"",flat:"",rows:z,columns:N.value,"row-key":"name",filter:t.filter,class:"q-mt-md"},{"top-right":o(()=>[a(c,{class:"text-capitalize",icon:"mdi-music-note-plus",color:"primary",onClick:e[8]||(e[8]=l=>{k.value=!0})},{default:o(()=>[p(" Add Nomenees ")]),_:1})]),"top-left":o(()=>[H]),_:1},8,["columns","filter"])]),a(R,{modelValue:k.value,"onUpdate:modelValue":e[14]||(e[14]=l=>k.value=l),position:"right"},{default:o(()=>[a(w,{style:{width:"500px","max-width":"80vw",height:"100vh"}},{default:o(()=>[a(B,null,{default:o(()=>[J]),_:1}),a(B,{class:"q-pt-none q-gutter-y-md"},{default:o(()=>[a(V,{modelValue:t.artwork_name,"onUpdate:modelValue":e[9]||(e[9]=l=>t.artwork_name=l),dense:"",outlined:"",label:"Artist Name"},null,8,["modelValue"]),a(V,{modelValue:t.artwork_name,"onUpdate:modelValue":e[10]||(e[10]=l=>t.artwork_name=l),dense:"",outlined:"",label:"Artwork Name"},null,8,["modelValue"]),a(V,{modelValue:t.artwork_link,"onUpdate:modelValue":e[11]||(e[11]=l=>t.artwork_link=l),dense:"",outlined:"",label:"Artwork Link"},null,8,["modelValue"])]),_:1}),a(D,null,{default:o(()=>[h(a(c,{flat:"",outline:"",color:"negative",label:"Cancel",onClick:e[12]||(e[12]=l=>t.declineLoans()),class:"q-mx-sm text-capitalize"},null,512),[[U]]),h(a(c,{color:"primary",label:"Submit",onClick:e[13]||(e[13]=l=>t.approveLoans()),class:"q-mx-sm text-capitalize"},null,512),[[U]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{pe as default};
