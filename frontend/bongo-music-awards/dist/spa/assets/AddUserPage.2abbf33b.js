import{Q as F,a as I,b as k,c as _,d as N}from"./QStepper.b495bad9.js";import{i as P,j as n,k as T,o as s,c as i,w as a,s as E,p as f,a as l,ar as g,n as c,e as x,r as Q,F as V,aq as b,f as j,h as z,t as O}from"./index.a2a6cfde.js";import{Q as B}from"./QChip.7a4b047c.js";import{Q as C}from"./QBanner.6349854b.js";import{Q as D,a as L}from"./QItem.8f89f5b7.js";import{Q as M}from"./QTd.a5e81f98.js";import{Q as X}from"./QTable.6e027470.js";import{Q as H}from"./QPage.81319fa2.js";import{u as J}from"./use-quasar.4da7d305.js";import"./QSlideTransition.9ece6917.js";import"./use-panel.e7cb8337.js";import"./touch.3df10340.js";import"./selection.c992f87f.js";import"./QList.416a0a8c.js";import"./QSelect.d8365bf0.js";import"./QItemLabel.5da09386.js";import"./position-engine.dddaf326.js";import"./rtl.b51694b1.js";import"./format.3e32b8d9.js";import"./use-fullscreen.6cb5833e.js";const K={class:"font-body-small text-capitalize q-pl-md"},W=f("div",{class:"text-sm text-green text-bold"}," *Genre suggestions, select all that apply by clicking X ",-1),Y=f("div",{class:"text-sm text-red q-pa-lg text-bold"}," *If genres are not available you can add them bellow ",-1),Z={class:"row flex justify-center q-gutter-x-sm"},ee=f("div",{class:"text-sm text-green text-bold"},"*selected genres",-1),Ve={__name:"AddUserPage",setup(te){P();const q=J(),r=n(1);n([]),n([]);const m=n({event_title:"",event_number:"",event_date:"",event_status:"closed"}),v=n(""),u=n([]),p=n([]);n([]);const w=[{id:1,genre:"Action",categories:["Shooter","Fighting","Adventure","Shooter","Fighting"]},{id:2,genre:"Adventure",categories:["RPG","Platformer","Simulation"]},{id:3,genre:"Sports",categories:["Football","Basketball","Tennis"]}],S=[{name:"genre",align:"left",label:"Genre",field:"genre"},{name:"categories",align:"left",label:"Categories",field:"categories"}],$=(o,e)=>{o.categories.splice(e,1)},h=o=>{const e=u.value.indexOf(o);e!==-1&&u.value.splice(e,1),p.value.push(o),console.log(p)},A=()=>{const o=u.value.findIndex(e=>e===v.value);if(o!==-1){const e=u.value.splice(o,1)[0];p.value.push(e)}else{const e=v.value;p.value.push(e)}v.value=""};n(["Best artist of the year","Best album of the year","Best video of the year"]),n(null);const G=async()=>{r.value=2},R=async()=>{r.value=3},U=async()=>{try{const o=await E.get("/genres"),{data:e}=o,t=e.data.map(({genre_name:d})=>d);u.value=t}catch{}};return n(),n([]),n(),T(()=>{U()}),(o,e)=>(s(),i(H,{padding:""},{default:a(()=>[f("p",K,[l(I,{gutter:"none"},{default:a(()=>[l(F,{label:"Back to Users",icon:"mdi-arrow-left-thick",to:"/admin/users"})]),_:1})]),l(N,{ref:"stepper",modelValue:r.value,"onUpdate:modelValue":e[9]||(e[9]=t=>r.value=t),contracted:j(q).screen.lt.md,animated:"",color:"primary"},{default:a(()=>[l(k,{done:r.value>1,name:1,prefix:"1",title:"Basic Info"},{default:a(()=>[l(g,{modelValue:m.value.event_title,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value.event_title=t),class:"q-ma-lg",dense:"",label:"Artist name",outlined:""},null,8,["modelValue"]),l(g,{modelValue:m.value.event_number,"onUpdate:modelValue":e[1]||(e[1]=t=>m.value.event_number=t),class:"q-ma-lg",dense:"",label:"Artist phone number",outlined:""},null,8,["modelValue"]),l(g,{modelValue:m.value.event_email,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value.event_email=t),class:"q-ma-lg",dense:"",label:"Artist email",outlined:""},null,8,["modelValue"]),l(_,null,{default:a(()=>[l(c,{color:"primary",label:"Continue",onClick:e[3]||(e[3]=t=>G())})]),_:1})]),_:1},8,["done"]),l(k,{done:r.value>2,name:2,prefix:"2",title:"Genre"},{default:a(()=>[u.value!=""?(s(),i(C,{key:0,"inline-actions":"",class:"q-ml-xs q-mt-md bordered"},{default:a(()=>[W,(s(!0),x(V,null,Q(u.value,(t,d)=>(s(),i(B,{key:d,label:t,class:"chip-margin",color:"primary",removable:"",onRemove:y=>h(t),outlined:""},null,8,["label","onRemove"]))),128))]),_:1})):b("",!0),Y,f("div",Z,[l(g,{modelValue:v.value,"onUpdate:modelValue":e[4]||(e[4]=t=>v.value=t),style:{width:"85%"},dense:"",label:"Add new genres",outlined:""},null,8,["modelValue"]),l(c,{label:"Add Genre",color:"primary",class:"text-capitalize",onClick:A})]),p.value!=""?(s(),i(C,{key:1,"inline-actions":"",class:"q-ml-xs q-mt-md bordered"},{default:a(()=>[ee,(s(!0),x(V,null,Q(p.value,(t,d)=>(s(),i(B,{key:d,label:t,class:"chip-margin",color:"primary",outlined:""},null,8,["label"]))),128))]),_:1})):b("",!0),l(_,null,{default:a(()=>[l(c,{color:"primary",label:"Continue",onClick:e[5]||(e[5]=t=>R())}),r.value>1?(s(),i(c,{key:0,class:"q-ml-sm",color:"primary",flat:"",label:"Back",onClick:e[6]||(e[6]=t=>o.$refs.stepper.previous())})):b("",!0)]),_:1})]),_:1},8,["done"]),l(k,{name:3,prefix:"3",title:"Categories"},{navigation:a(()=>[l(_,null,{default:a(()=>[l(c,{label:"Finish",color:"primary",onClick:e[7]||(e[7]=t=>r.value===3?o.submitCategories():o.$refs.stepper.next())}),r.value>1?(s(),i(c,{key:0,class:"q-ml-sm",color:"primary",flat:"",label:"Back",onClick:e[8]||(e[8]=t=>o.$refs.stepper.previous())})):b("",!0)]),_:1})]),default:a(()=>[l(X,{rows:w,columns:S,"row-key":"id"},{"body-cell-categories":a(t=>[(s(),i(M,{props:t,key:t.key},{default:a(()=>[(s(!0),x(V,null,Q(t.row.categories,(d,y)=>(s(),i(D,{key:y},{default:a(()=>[l(L,null,{default:a(()=>[l(B,{removable:"",onRemove:le=>$(t.row,y)},{default:a(()=>[z(O(d),1)]),_:2},1032,["onRemove"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1032,["props"]))]),_:1})]),_:1})]),_:1},8,["modelValue","contracted"])]),_:1}))}};export{Ve as default};
