import{i as n,j as Z,o as ee,c as le,w as o,A as V,n as u,a,h as U,m as i,x as s,Q as R,t as T,s as A,v as d,y as C,g as m,z as S}from"./index.2168973d.js";import{Q as I}from"./QTooltip.5d47426a.js";import{Q}from"./QTd.ceb90ec9.js";import{Q as B}from"./QTable.f9d972c1.js";import{Q as ae}from"./QPage.9091337b.js";import{C as r}from"./ClosePopup.84728624.js";import{u as te}from"./use-quasar.5d040746.js";import"./position-engine.24379b01.js";import"./selection.c8733179.js";import"./QList.4a3d4d88.js";import"./QSelect.140006f5.js";import"./QChip.ff3410c9.js";import"./QItem.911f6e0e.js";import"./QItemLabel.5b325c84.js";import"./QMenu.63e32da8.js";import"./rtl.b51694b1.js";import"./use-fullscreen.0f988923.js";const oe={class:"row items-center q-mt-xl"},ne=u("p",{class:"font-body-small q-pl-md col"},[u("span",{class:"text-weight-bolder text-capitalize text-h6"},"Albums and EPs")],-1),se={class:"flex justify-end width col"},ue=["href"],ie={class:"row items-center q-mt-xl"},de=u("p",{class:"font-body-small q-pl-md col"},[u("span",{class:"text-weight-bolder text-capitalize text-h6"},"Singles")],-1),me={class:"flex justify-end width col"},re=["href"],ve=u("div",{class:"text-h6"},"Fill the form bellow",-1),pe=u("div",{class:"text-h6"},"Fill the form bellow",-1),ce=u("div",{class:"text-h6"},"Fill the form bellow",-1),fe=u("div",{class:"text-h6"},"Edit Single",-1),$e={__name:"ArtistWorks",setup(be){const y=te(),D=n(""),x=n(""),z=n(!1),N=n(!1),h=n(!1),q=n(!1),v=n(""),p=n(""),c=n(""),f=n(""),b=n(""),g=n(""),_=n(""),F=sessionStorage.getItem("user"),$=JSON.parse(F),P=n([{name:"album_name",label:"Album/Ep Name",align:"left",field:t=>t.album_name,sortable:!0},{name:"number_of_tracks",label:"Number of Tracks",align:"left",field:t=>t.number_of_tracks,sortable:!0},{name:"date",label:"Release Date",align:"left",field:t=>t.album_date,sortable:!0},{name:"link",label:"Link",align:"left",field:t=>t.album_link,sortable:!0},{name:"action",label:"action",align:"left"}]),k=n([]),j=n([{name:"track_name",label:"Track Name",align:"left",field:t=>t.single_name,sortable:!0},{name:"date",label:"Release Date",align:"left",field:t=>t.single_date,sortable:!0},{name:"link",label:"Link",align:"left",field:t=>t.single_link,sortable:!0},{name:"action",label:"action",align:"left"}]),w=n([]),G=async()=>{try{const t=await V.post("/single",{single_name:v.value,single_date:p.value,single_link:c.value});w.value=t.data,console.log(t.data)}catch{}},O=async()=>{try{const t=await V.post("/albums",{album_name:f.value,album_date:g.value,album_link:b.value,number_of_tracks:_.value});k.value=t.data,console.log(t.data)}catch{}},M=t=>{L.value=t;const e=w.value.find(l=>l.id===t);e&&(v.value=e.single_name,p.value=e.single_date,c.value=e.single_link)},J=t=>{E.value=t;const e=k.value.find(l=>l.album_id===t);e&&(f.value=e.album_name,g.value=e.album_date,b.value=e.album_link,_.value=e.number_of_tracks)},L=n(),W=async()=>{try{const t={single_name:v.value,single_date:p.value,single_link:c.value},e=await V.put(`/single/${L.value}`,t);w.value=e.data,y.notify({message:"single updated successfully",color:"green",icon:"check",position:"top-right"}),h.value=!1}catch(t){console.error("Error saving single:",t),y.notify({message:"Failed to save. Please try again.",color:"red",icon:"error",position:"top-right"})}},E=n(),H=async()=>{try{const t={album_name:f.value,album_date:g.value,album_link:b.value,number_of_tracks:_.value},e=await V.put(`/albums/${E.value}`,t);k.value=e.data,y.notify({message:"Album updated successfully",color:"green",icon:"check",position:"top-right"}),q.value=!1}catch(t){console.error("Error saving Album:",t),y.notify({message:"Failed to save. Please try again.",color:"red",icon:"error",position:"top-right"})}},K=async()=>{try{const t=await V.get(`/single/${$.user_id}`);w.value=t.data,console.log(t.data)}catch{}},X=async()=>{try{const t=await V.get(`/albums/${$.user_id}`);console.log(t.data),k.value=t.data}catch{}};return Z(()=>{K(),X()}),(t,e)=>(ee(),le(ae,{padding:""},{default:o(()=>[u("div",oe,[ne,u("p",se,[a(i,{onClick:e[0]||(e[0]=l=>N.value=!0),class:"text-capitalize"},{default:o(()=>[U("add new")]),_:1})])]),a(B,{bordered:"",rows:k.value,columns:P.value,"row-key":"name",filter:x.value,class:"q-mt-md"},{"body-cell-action":o(l=>[a(Q,null,{default:o(()=>[a(i,{class:"",icon:"mdi-pencil",flat:"",dense:"",color:"primary",size:"10px",onClick:Y=>{J(l.row.album_id),q.value=!0}},{default:o(()=>[a(I,null,{default:o(()=>[U("edit")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),"top-right":o(()=>[a(s,{outlined:"",dense:"",debounce:"300",modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=l=>x.value=l),placeholder:"Search"},{append:o(()=>[a(R,{name:"mdi-magnify"})]),_:1},8,["modelValue"])]),"body-cell-link":o(l=>[a(Q,null,{default:o(()=>[u("a",{href:l.row.album_link,target:"_blank"},T(l.row.album_link),9,ue)]),_:2},1024)]),_:1},8,["rows","columns","filter"]),u("div",ie,[de,u("p",me,[a(i,{onClick:e[2]||(e[2]=l=>z.value=!0),class:"text-capitalize"},{default:o(()=>[U("add new")]),_:1})])]),a(B,{bordered:"",album:"singlerows",columns:j.value,rows:w.value,"row-key":"name",filter:x.value,class:"q-mt-md"},{"body-cell-action":o(l=>[a(Q,null,{default:o(()=>[a(i,{class:"",icon:"mdi-pencil",flat:"",dense:"",color:"primary",size:"10px",onClick:Y=>{M(l.row.id),h.value=!0}},{default:o(()=>[a(I,null,{default:o(()=>[U("edit")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),"top-right":o(()=>[a(s,{outlined:"",dense:"",debounce:"300",modelValue:D.value,"onUpdate:modelValue":e[3]||(e[3]=l=>D.value=l),placeholder:"Search"},{append:o(()=>[a(R,{name:"mdi-magnify"})]),_:1},8,["modelValue"])]),"body-cell-link":o(l=>[a(Q,null,{default:o(()=>[u("a",{href:l.row.single_link,target:"_blank"},T(l.row.single_link),9,re)]),_:2},1024)]),_:1},8,["columns","rows","filter"]),a(S,{modelValue:N.value,"onUpdate:modelValue":e[9]||(e[9]=l=>N.value=l),position:"right"},{default:o(()=>[a(A,{style:{width:"500px","max-width":"80vw",height:"100vh"}},{default:o(()=>[a(d,null,{default:o(()=>[ve]),_:1}),a(d,{class:"q-pt-none q-gutter-y-md"},{default:o(()=>[a(s,{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=l=>f.value=l),dense:"",outlined:"",label:"Album/Ep Name"},null,8,["modelValue"]),a(s,{modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=l=>_.value=l),dense:"",outlined:"",label:"Number of trucks"},null,8,["modelValue"]),a(s,{modelValue:g.value,"onUpdate:modelValue":e[6]||(e[6]=l=>g.value=l),dense:"",outlined:"",label:"Release Date"},null,8,["modelValue"]),a(s,{modelValue:b.value,"onUpdate:modelValue":e[7]||(e[7]=l=>b.value=l),dense:"",outlined:"",label:"Link"},null,8,["modelValue"])]),_:1}),a(C,null,{default:o(()=>[m(a(i,{flat:"",outline:"",color:"negative",label:"Cancel",class:"q-mx-sm text-capitalize"},null,512),[[r]]),m(a(i,{color:"primary",label:"Save",onClick:e[8]||(e[8]=l=>O()),class:"q-mx-sm text-capitalize"},null,512),[[r]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:q.value,"onUpdate:modelValue":e[15]||(e[15]=l=>q.value=l),position:"right"},{default:o(()=>[a(A,{style:{width:"500px","max-width":"80vw",height:"100vh"}},{default:o(()=>[a(d,null,{default:o(()=>[pe]),_:1}),a(d,{class:"q-pt-none q-gutter-y-md"},{default:o(()=>[a(s,{modelValue:f.value,"onUpdate:modelValue":e[10]||(e[10]=l=>f.value=l),dense:"",outlined:"",label:"Album/Ep Name"},null,8,["modelValue"]),a(s,{modelValue:_.value,"onUpdate:modelValue":e[11]||(e[11]=l=>_.value=l),dense:"",outlined:"",label:"Number of trucks"},null,8,["modelValue"]),a(s,{modelValue:g.value,"onUpdate:modelValue":e[12]||(e[12]=l=>g.value=l),dense:"",outlined:"",label:"Release Date"},null,8,["modelValue"]),a(s,{modelValue:b.value,"onUpdate:modelValue":e[13]||(e[13]=l=>b.value=l),dense:"",outlined:"",label:"Link"},null,8,["modelValue"])]),_:1}),a(C,null,{default:o(()=>[m(a(i,{flat:"",outline:"",color:"negative",label:"Cancel",class:"q-mx-sm text-capitalize"},null,512),[[r]]),m(a(i,{color:"primary",label:"Save",onClick:e[14]||(e[14]=l=>H()),class:"q-mx-sm text-capitalize"},null,512),[[r]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:z.value,"onUpdate:modelValue":e[20]||(e[20]=l=>z.value=l),position:"right"},{default:o(()=>[a(A,{style:{width:"500px","max-width":"80vw",height:"100vh"}},{default:o(()=>[a(d,null,{default:o(()=>[ce]),_:1}),a(d,{class:"q-pt-none q-gutter-y-md"},{default:o(()=>[a(s,{modelValue:v.value,"onUpdate:modelValue":e[16]||(e[16]=l=>v.value=l),dense:"",outlined:"",label:"Truck Name"},null,8,["modelValue"]),a(s,{modelValue:p.value,"onUpdate:modelValue":e[17]||(e[17]=l=>p.value=l),dense:"",outlined:"",label:"Release Date"},null,8,["modelValue"]),a(s,{modelValue:c.value,"onUpdate:modelValue":e[18]||(e[18]=l=>c.value=l),dense:"",outlined:"",label:"Link"},null,8,["modelValue"])]),_:1}),a(C,null,{default:o(()=>[m(a(i,{flat:"",outline:"",color:"negative",label:"Cancel",class:"q-mx-sm text-capitalize"},null,512),[[r]]),m(a(i,{color:"primary",label:"Save",onClick:e[19]||(e[19]=l=>G()),class:"q-mx-sm text-capitalize"},null,512),[[r]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(S,{modelValue:h.value,"onUpdate:modelValue":e[25]||(e[25]=l=>h.value=l),position:"right"},{default:o(()=>[a(A,{style:{width:"500px","max-width":"80vw",height:"100vh"}},{default:o(()=>[a(d,null,{default:o(()=>[fe]),_:1}),a(d,{class:"q-pt-none q-gutter-y-md"},{default:o(()=>[a(s,{modelValue:v.value,"onUpdate:modelValue":e[21]||(e[21]=l=>v.value=l),dense:"",outlined:"",label:"Truck Name"},null,8,["modelValue"]),a(s,{modelValue:p.value,"onUpdate:modelValue":e[22]||(e[22]=l=>p.value=l),dense:"",outlined:"",label:"Release Date"},null,8,["modelValue"]),a(s,{modelValue:c.value,"onUpdate:modelValue":e[23]||(e[23]=l=>c.value=l),dense:"",outlined:"",label:"Link"},null,8,["modelValue"])]),_:1}),a(C,null,{default:o(()=>[m(a(i,{flat:"",outline:"",color:"negative",label:"Cancel",class:"q-mx-sm text-capitalize"},null,512),[[r]]),m(a(i,{color:"primary",label:"Save",onClick:e[24]||(e[24]=l=>W()),class:"q-mx-sm text-capitalize"},null,512),[[r]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};export{$e as default};
