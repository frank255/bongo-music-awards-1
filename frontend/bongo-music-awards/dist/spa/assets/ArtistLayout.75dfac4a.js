import{d as N,u as T,o as i,c as u,w as t,a as e,e as U,F as j,r as F,f as p,g as d,Q as m,h as n,t as V,R as O,bb as E,i as g,j as H,k as J,l as W,m as h,n as y,p as q,q as S,s as Y,v as A,x as I,y as G,z as K,A as $}from"./index.cce3915b.js";import{Q as X,a as Z,b as ee,c as te}from"./QDrawer.d335bc83.js";import{Q as k,a as s}from"./QItem.a90bd647.js";import{Q as c}from"./QItemLabel.9e65cb53.js";import{Q as D}from"./QList.f3f9416a.js";import{Q as ae,a as le}from"./QScrollArea.408b6946.js";import{Q as oe,a as se}from"./QLayout.7e55cfd0.js";import{C as w}from"./ClosePopup.f712e32b.js";import{u as re}from"./use-quasar.1b56e1c9.js";import"./QResizeObserver.79f09964.js";import"./touch.3df10340.js";import"./selection.109ccf0b.js";import"./format.3e32b8d9.js";import"./QMenu.e874daef.js";import"./position-engine.0cde2c40.js";const ie=N("artist",{state:()=>({artist:[{icon:"mdi-home-circle",text:"Dashboard",path:"/artist/dashboard"},{icon:"mdi-calendar",text:"Events & Awards",path:"/artist/eventsandawards"},{icon:"mdi-account",text:"Profile",path:"/artist/profile"},{icon:"mdi-ticket",text:"Tickets",path:"/artist/tickets"},{icon:"mdi-music-clef-treble",text:"My Works",path:"/artist/works"}]})}),ne={__name:"ArtistMenu",setup(L){const b=T(),f=ie();return(P,v)=>(i(),u(ae,{class:"fit"},{default:t(()=>[e(D,{padding:""},{default:t(()=>[(i(!0),U(j,null,F(p(f).artist,(l,Q)=>d((i(),u(k,{key:Q,clickable:"",to:l.path,active:p(b).path===l.path},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(m,{name:l.icon},null,8,["name"])]),_:2},1024),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[n(V(l.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to","active"])),[[O]])),128))]),_:1})]),_:1}))}},ue={class:"q-pa-md"},de={class:"q-pa-md q-mt-md q-gutter-sm"},me=y("img",{src:"https://cdn.quasar.dev/img/avatar.png"},null,-1),ce=y("div",{class:"text-h6 text-center"},"Change Your Password...",-1),Pe={__name:"ArtistLayout",setup(L){E();const b=sessionStorage.getItem("user"),f=JSON.parse(b),P=sessionStorage.getItem("role"),v=g(!1);let l=g(!1);const Q=re(),r=g(!0),C=g(""),x=g(""),B=async()=>{const _=await $.post("/updatePassword",{user_id:f.user_id,old_password:C.value,new_password:x.value});Q.notify({message:_.data.data,color:"green",icon:"check",position:"top-right"})},R=()=>v.value=!v.value,z=async()=>{$.post("/logout"),sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("auth"),sessionStorage.removeItem("user"),window.location.href="/login"};return H(()=>{J().$state.role=="artist"||(window.location.href="/login")}),(_,a)=>{const M=W("router-view");return i(),u(oe,{view:"hHh LpR fFf"},{default:t(()=>[e(ee,{elevated:"",class:"bg-primary text-white q-pa-sm"},{default:t(()=>[e(X,null,{default:t(()=>[e(h,{dense:"",flat:"",round:"",icon:"menu",onClick:R}),e(Z,null,{default:t(()=>[n(" Bongo Music Awards ")]),_:1}),y("div",ue,[e(le,{class:"glossy text-capitalize bg-primary",icon:"mdi-account-circle",label:p(f).name,rounded:"",flat:"",onClick:_.onMainClick},{default:t(()=>[e(D,{separator:""},{default:t(()=>[d((i(),u(k,{clickable:"",onClick:_.onItemClick},{default:t(()=>[e(s,{avatar:""},{default:t(()=>[e(q,{icon:"mdi-account-circle",color:"primary","text-color":"white"})]),_:1}),e(s,null,{default:t(()=>[e(c,{class:"text-capitalize"},{default:t(()=>[n(V(p(P)),1)]),_:1}),e(c,{class:"text-capitalize",caption:""},{default:t(()=>[n(V(p(f).name),1)]),_:1})]),_:1})]),_:1},8,["onClick"])),[[w]]),d((i(),u(k,{clickable:"",onClick:a[0]||(a[0]=o=>S(l)?l.value=!0:l=!0)},{default:t(()=>[e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[n("Change Password")]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(m,{name:"mdi-key",color:"primary"})]),_:1})]),_:1})),[[w]]),d((i(),u(k,{clickable:"",onClick:a[1]||(a[1]=o=>_.changeProfile=!0)},{default:t(()=>[e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[n("Change Profile Image")]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(m,{name:"mdi-image",color:"primary"})]),_:1})]),_:1})),[[w]]),d((i(),u(k,{clickable:"",onClick:a[2]||(a[2]=o=>z())},{default:t(()=>[e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[n("Logout")]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(m,{name:"mdi-logout",color:"primary"})]),_:1})]),_:1})),[[w]])]),_:1})]),_:1},8,["label","onClick"])])]),_:1})]),_:1}),e(te,{"show-if-above":"",modelValue:v.value,"onUpdate:modelValue":a[3]||(a[3]=o=>v.value=o),side:"left",bordered:"",class:"row justify-center",width:"250"},{default:t(()=>[y("div",de,[e(q,{size:"80px"},{default:t(()=>[me]),_:1})]),e(ne)]),_:1},8,["modelValue"]),e(K,{modelValue:p(l),"onUpdate:modelValue":a[10]||(a[10]=o=>S(l)?l.value=o:l=o),persistent:""},{default:t(()=>[e(Y,{class:"bg-grey-3 q-pa-md",style:{width:"500px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[ce]),_:1}),e(A,{class:"row justify-center items-center q-gutter-x-xl"},{default:t(()=>[e(I,{modelValue:C.value,"onUpdate:modelValue":a[5]||(a[5]=o=>C.value=o),dense:"",label:"Old Password",type:r.value?"password":"text",outlined:""},{append:t(()=>[e(m,{name:r.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[4]||(a[4]=o=>r.value=!r.value)},null,8,["name"])]),_:1},8,["modelValue","type"]),e(I,{modelValue:x.value,"onUpdate:modelValue":a[7]||(a[7]=o=>x.value=o),class:"q-ma-md",dense:"",label:"New Password",type:r.value?"password":"text",outlined:""},{append:t(()=>[e(m,{name:r.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[6]||(a[6]=o=>r.value=!r.value)},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),e(G,{align:"center"},{default:t(()=>[e(h,{label:"Cancel",onClick:a[8]||(a[8]=o=>S(l)?l.value=!1:l=!1)}),d(e(h,{label:"Update",color:"primary",onClick:a[9]||(a[9]=o=>B())},null,512),[[w]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(se,null,{default:t(()=>[e(M)]),_:1})]),_:1})}}};export{Pe as default};
