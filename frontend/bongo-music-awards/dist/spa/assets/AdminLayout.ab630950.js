import{d as Q,u as x,o as n,c as m,w as t,a as e,e as S,F as b,r as k,f as r,g as y,Q as A,h as g,t as u,R as I,i as L,j as V,k as q,l as B,m as D,n as _,p as i,q as C,s as M}from"./index.a2a6cfde.js";import{Q as R,a as T,b as N,c as j}from"./QDrawer.e79e13b3.js";import{Q as E,a as F}from"./QLayout.775dc97d.js";import{Q as $,a as h}from"./QItem.8f89f5b7.js";import{Q as z}from"./QItemLabel.5da09386.js";import{Q as H}from"./QList.416a0a8c.js";import{Q as O}from"./QScrollArea.7bcfe45c.js";import"./QResizeObserver.c34ad798.js";import"./touch.3df10340.js";import"./selection.c992f87f.js";import"./format.3e32b8d9.js";const U=Q("admin",{state:()=>({admin:[{icon:"mdi-home-circle",text:"Dashboard",path:"/admin/dashboard"},{icon:"mdi-calendar",text:"Events & Awards",path:"/admin/eventsandawards"},{icon:"mdi-vote",text:"Votes",path:"/admin/votes"},{icon:"mdi-account-group",text:"Users",path:"/admin/users"},{icon:"mdi-ticket",text:"Tickets",path:"/admin/tickets"},{icon:"mdi-wechat",text:"SMS",path:"/admin/sms"},{icon:"mdi-gmail",text:"Emails",path:"/admin/emails"},{icon:"mdi-account-circle-outline",text:"My Account",path:"/admin/myaccount"}]})}),J={__name:"AdminMenu",setup(v){const l=x(),c=U();return(p,o)=>(n(),m(O,{class:"fit"},{default:t(()=>[e(H,{padding:""},{default:t(()=>[(n(!0),S(b,null,k(r(c).admin,(a,d)=>y((n(),m($,{key:d,clickable:"",to:a.path,active:r(l).path===a.path},{default:t(()=>[e(h,{avatar:""},{default:t(()=>[e(A,{name:a.icon},null,8,["name"])]),_:2},1024),e(h,null,{default:t(()=>[e(z,null,{default:t(()=>[g(u(a.text),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to","active"])),[[I]])),128))]),_:1})]),_:1}))}},P={class:"q-pa-md q-mt-md q-gutter-sm"},G=i("img",{src:"https://cdn.quasar.dev/img/avatar.png"},null,-1),K={class:"text-h6"},W={class:"text-subtitle2 text-capitalize row justify-center"},ce={__name:"AdminLayout",setup(v){L();const l=sessionStorage.getItem("user"),c=JSON.parse(l),p=sessionStorage.getItem("role"),o=V(!1),a=()=>o.value=!o.value,d=async()=>{M.post("/logout"),sessionStorage.removeItem("token"),sessionStorage.removeItem("role"),sessionStorage.removeItem("auth"),sessionStorage.removeItem("user"),window.location.href="/login"};return q(()=>{B().$state.role=="admin"||(window.location.href="/login")}),(X,s)=>{const w=D("router-view");return n(),m(E,{view:"hHh LpR fFf"},{default:t(()=>[e(N,{elevated:"",class:"bg-primary text-white q-pa-sm"},{default:t(()=>[e(R,null,{default:t(()=>[e(_,{dense:"",flat:"",round:"",icon:"menu",onClick:a}),e(T,null,{default:t(()=>[g(" Bongo Music Awards ")]),_:1}),e(_,{flat:"","no-caps":"",dense:"",icon:"mdi-logout",onClick:s[0]||(s[0]=f=>d()),label:"logout"})]),_:1})]),_:1}),e(j,{"show-if-above":"",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=f=>o.value=f),side:"left",bordered:"",class:"row justify-center",width:"250"},{default:t(()=>[i("div",P,[e(C,{size:"80px"},{default:t(()=>[G]),_:1}),i("div",K,u(r(c).name),1),i("div",W,u(r(p)),1)]),e(J)]),_:1},8,["modelValue"]),e(F,null,{default:t(()=>[e(w)]),_:1})]),_:1})}}};export{ce as default};
